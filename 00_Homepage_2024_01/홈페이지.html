<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>책 쇼핑몰</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        
        body {
            font-family: 'Pretendard', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #FFFFFF;
            color: #6788FF;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* 헤더 스타일 */
        header {
            background-color: #B3C3FF;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .logo img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 24px;
            color: #6788FF;
        }

        .user-actions {
            display: flex;
            align-items: center;
        }

        .login-form input {
            margin-right: 10px;
            padding: 5px;
        }

        .login-form button, .cart-button {
            background-color: #6788FF;
            color: #FFFFFF;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        /* 네비게이션 메뉴 스타일 */
        nav {
            background-color: #FFFFFF;
            border-bottom: 1px solid #B3C3FF;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
        }

        nav ul li {
            position: relative;
        }

        nav ul li a {
            display: block;
            padding: 10px 15px;
            color: #6788FF;
            text-decoration: none;
        }

        nav ul li:hover > a {
            background-color: #B3C3FF;
            color: #FFFFFF;
        }

        nav ul ul {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #FFFFFF;
            border: 1px solid #B3C3FF;
            min-width: 150px;
        }

        nav ul li:hover > ul {
            display: block;
        }

        nav ul ul li a:hover {
            background-color: #E6ECFF;
        }

        /* 메인 배너 스타일 */
        .main-banner {
            background-color: #B3C3FF;
            padding: 20px 0;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            height: 400px;
        }

        .banner-content {
            display: flex;
            position: absolute;
            transition: transform 0.5s ease;
            width: 500%;
        }

        .banner-item {
            width: 20%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .banner-image {
            width: 45%;
        }

        .banner-image img {
            max-width: 100%;
            height: auto;
        }

        .banner-text {
            width: 45%;
        }

        /* 제품 목록 스타일 */
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .product-item {
            border: 1px solid #B3C3FF;
            padding: 10px;
            text-align: center;
            position: relative;
        }

        .product-item img {
            max-width: 100%;
            height: auto;
            transition: opacity 0.3s ease;
        }

        .product-item .rating {
            position: absolute;
            top: 5px;
            left: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 2px 5px;
        }

        .product-item .actions {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.8);
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .product-item:hover .actions {
            display: flex;
        }

        .product-item:hover img {
            opacity: 0.3;
        }

        .product-item .actions button {
            margin: 5px;
            background-color: #6788FF;
            color: #FFFFFF;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        /* 최근 본 상품 스타일 수정 */
        .recent-products {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #FFFFFF;
            border: 1px solid #B3C3FF;
            padding: 10px;
            max-height: 400px; /* 높이 증가 */
            overflow-y: auto;
            display: flex;
            flex-direction: column; /* 세로 정렬 */
            align-items: center; /* 중앙 정렬 */
            width: 70px; /* 너비 지정 */
        }

        .recent-products h3 {
            margin-bottom: 10px;
            text-align: center;
        }

        .recent-products img {
            width: 50px;
            height: 75px;
            margin-bottom: 10px; /* 간격 추가 */
            cursor: pointer;
        }
        /* 장바구니 스타일 */
        .cart-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .cart-content {
            background-color: #FFFFFF;
            width: 80%;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            border-radius: 5px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #B3C3FF;
        }

        .cart-item img {
            width: 50px;
            height: 75px;
            margin-right: 10px;
        }

        .cart-item-details {
            flex-grow: 1;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
        }

        .cart-item-actions button {
            margin-left: 10px;
            background-color: #6788FF;
            color: #FFFFFF;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        /* 추가 기능 스타일 */
        .scroll-top {
            position: fixed;
            right: 20px;
            bottom: 20px;
            padding: 10px;
            background-color: #6788FF;
            color: #FFFFFF;
            border: none;
            cursor: pointer;
        }

        /* 책 미리보기 스타일 */
        .preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }

        .preview-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }

        .preview-content img {
            max-width: 100%;
            max-height: 70vh;
        }

        .preview-nav {
            margin-top: 10px;
        }

        .preview-nav button {
            margin: 0 5px;
            background-color: #6788FF;
            color: #FFFFFF;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo" onclick="location.href='#'">
                <img src="/api/placeholder/50/50" alt="로고">
                <h1>책 쇼핑몰</h1>
            </div>
            <div class="user-actions">
                <form class="login-form">
                    <input type="text" placeholder="아이디">
                    <input type="password" placeholder="비밀번호">
                    <button type="submit">로그인</button>
                </form>
                <button class="cart-button" onclick="openCart()">장바구니</button>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#">베스트셀러</a></li>
                <li>
                    <a href="#">국내도서</a>
                    <ul>
                        <li><a href="#">일반</a></li>
                        <li><a href="#">만화</a></li>
                        <li><a href="#">문제집</a></li>
                        <li><a href="#">요리</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">해외도서</a>
                    <ul>
                        <li><a href="#">일반</a></li>
                        <li><a href="#">만화</a></li>
                        <li><a href="#">문제집</a></li>
                        <li><a href="#">요리</a></li>
                    </ul>
                </li>
                <li><a href="#">신간도서</a></li>
                <li>
                    <a href="#">굿즈</a>
                    <ul>
                        <li><a href="#">문구용품</a></li>
                        <li><a href="#">생활용품</a></li>
                        <li><a href="#">식품</a></li>
                        <li><a href="#">K-POP</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <main>
        <section class="main-banner">
            <div class="banner-content">
                <!-- 배너 아이템들 -->
            </div>
        </section>

        <section class="container">
            <h2>인기 도서</h2>
            <div class="product-list">
                <!-- 제품 아이템들 -->
            </div>
        </section>
    </main>

    <aside class="recent-products">
        <h3>최근 본 상품</h3>
        <!-- 최근 본 상품 이미지들 -->
    </aside>

    <div class="cart-page">
        <div class="cart-content">
            <h2>장바구니</h2>
            <div id="cart-items">
                <!-- 장바구니 아이템들 -->
            </div>
            <div>
                <input type="text" id="coupon-input" placeholder="쿠폰 코드 입력">
                <button onclick="applyCoupon()">쿠폰 적용</button>
            </div>
            <p>총 금액: <span id="total-price">0</span>원</p>
            <button onclick="closeCart()">닫기</button>
        </div>
    </div>

    <div class="preview-modal">
        <div class="preview-content">
            <img id="preview-image" src="" alt="책 미리보기">
            <div class="preview-nav">
                <button onclick="prevPage()">이전</button>
                <button onclick="nextPage()">다음</button>
                <button onclick="closePreview()">닫기</button>
            </div>
        </div>
    </div>

    <button class="scroll-top" onclick="scrollToTop()">Top</button>

    <script>
        // 배너 슬라이드 기능
        const bannerContent = document.querySelector('.banner-content');
        let currentBanner = 0;
        const bannerCount = 5;
    
        function createBanners() {
            for (let i = 0; i < bannerCount; i++) {
                const bannerItem = document.createElement('div');
                bannerItem.className = 'banner-item';
                bannerItem.innerHTML = `
                    <div class="banner-image">
                        <img src="/api/placeholder/400/300" alt="추천도서 ${i + 1}">
                    </div>
                    <div class="banner-text">
                        <h2>이달의 추천도서 ${i + 1}</h2>
                        <p>흥미진진한 이야기로 가득한 이 달의 추천도서를 만나보세요.</p>
                        <button onclick="openInfoPage(${i})">자세히 보기</button>
                    </div>
                `;
                bannerContent.appendChild(bannerItem);
            }
        }
    
        function slideBanner() {
            currentBanner = (currentBanner + 1) % bannerCount;
            bannerContent.style.transform = `translateX(-${currentBanner * 20}%)`;
        }
    
        createBanners();
        setInterval(slideBanner, 5000);
    
        // 제품 목록 생성
        const productList = document.querySelector('.product-list');
    
        function createProducts() {
            for (let i = 0; i < 20; i++) {
                const productItem = document.createElement('div');
                productItem.className = 'product-item';
                productItem.innerHTML = `
                    <img src="/api/placeholder/200/300" alt="도서 ${i + 1}">
                    <div class="rating">★★★★☆</div>
                    <h3>도서 제목 ${i + 1}</h3>
                    <p>저자 | 출판사</p>
                    <div class="actions">
                        <button onclick="addToCart(${i})">장바구니</button>
                        <button onclick="openInfoPage(${i})">상세정보</button>
                        <button onclick="openPreview(${i})">미리보기</button>
                    </div>
                `;
                productList.appendChild(productItem);
            }
        }
    
        createProducts();
    
        // 장바구니 기능
        let cart = [];
    
        function addToCart(productId) {
            cart.push({
                id: productId,
                title: `도서 제목 ${productId + 1}`,
                price: 10000 // 예시 가격
            });
            updateCartUI();
        }
    
        function updateCartUI() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            let total = 0;
            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="/api/placeholder/50/75" alt="${item.title}">
                    <div class="cart-item-details">
                        <h4>${item.title}</h4>
                        <p>가격: ${item.price}원</p>
                    </div>
                    <div class="cart-item-actions">
                        <button onclick="removeFromCart(${index})">삭제</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
                total += item.price;
            });
            document.getElementById('total-price').textContent = total;
        }
    
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }
    
        function openCart() {
            document.querySelector('.cart-page').style.display = 'block';
        }
    
        function closeCart() {
            document.querySelector('.cart-page').style.display = 'none';
        }
    
        // 쿠폰 적용 기능
        function applyCoupon() {
            const couponCode = document.getElementById('coupon-input').value;
            if (couponCode === 'DISCOUNT10') {
                const totalPrice = parseInt(document.getElementById('total-price').textContent);
                const discountedPrice = totalPrice * 0.9; // 10% 할인
                document.getElementById('total-price').textContent = discountedPrice.toFixed(0);
                alert('쿠폰이 적용되었습니다. 10% 할인이 적용됩니다.');
            } else {
                alert('유효하지 않은 쿠폰 코드입니다.');
            }
        }
    
        // 최근 본 상품 기능
        const recentProducts = new Set();
    
        function addToRecentProducts(productId) {
            recentProducts.add(productId);
            updateRecentProductsUI();
        }
    
       // 최근 본 상품 기능 수정
       function updateRecentProductsUI() {
            const recentProductsContainer = document.querySelector('.recent-products');
            recentProductsContainer.innerHTML = '<h3>최근 본 상품</h3>';
            [...recentProducts].slice(-5).reverse().forEach(productId => {
                const img = document.createElement('img');
                img.src = `/api/placeholder/50/75`;
                img.alt = `최근 본 상품 ${productId + 1}`;
                img.onclick = () => openInfoPage(productId);
                recentProductsContainer.appendChild(img);
            });
        }
    
        // 책 미리보기 기능
        let currentPreviewPage = 0;
        const previewPages = ['/api/placeholder/400/600', '/api/placeholder/400/600', '/api/placeholder/400/600']; // 예시 이미지
    
        function openPreview(productId) {
            addToRecentProducts(productId);
            document.querySelector('.preview-modal').style.display = 'block';
            currentPreviewPage = 0;
            updatePreviewImage();
        }
    
        function closePreview() {
            document.querySelector('.preview-modal').style.display = 'none';
        }
    
        function prevPage() {
            if (currentPreviewPage > 0) {
                currentPreviewPage--;
                updatePreviewImage();
            }
        }
    
        function nextPage() {
            if (currentPreviewPage < previewPages.length - 1) {
                currentPreviewPage++;
                updatePreviewImage();
            }
        }
    
        function updatePreviewImage() {
            document.getElementById('preview-image').src = previewPages[currentPreviewPage];
        }
    
        // 스크롤 탑 기능
        function scrollToTop() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    
        // 상세 정보 페이지 (예시 함수)
        function openInfoPage(productId) {
            addToRecentProducts(productId);
            alert(`도서 ${productId + 1}의 상세 정보 페이지로 이동합니다.`);
            // 실제로는 여기서 새 페이지로 이동하거나 모달을 열어 상세 정보를 표시합니다.
        }
    </script>
    </body>
    </html>